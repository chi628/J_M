(function(t){function n(n){for(var a,r,c=n[0],i=n[1],u=n[2],l=0,h=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(n);while(h.length)h.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],a=!0,r=1;r<e.length;r++){var i=e[r];0!==o[i]&&(a=!1)}a&&(s.splice(n--,1),t=c(c.s=e[0]))}return t}var a={},o={app:0},s=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-05826efa":"1490eaec","chunk-1d5ce292":"43b26dbc","chunk-1f434fbf":"4c493ab6","chunk-1fabd593":"5203cd85","chunk-2d0cf132":"70146ad2","chunk-2d0b6e7c":"e7abc5d1","chunk-2d0dde2e":"ebd2ef53","chunk-2d0e28e7":"e28ca8d0","chunk-2d225006":"101d39b9","chunk-4466b927":"09daf0f5","chunk-539a5999":"d959ed5d","chunk-547b5422":"321fbca6","chunk-548eccb9":"5c3c93a3","chunk-7f75ae24":"d4d9c93a","chunk-8493c7c6":"80a7fe16","chunk-87dc1838":"3bde5ed1","chunk-8806e99e":"03823124","chunk-880b1d6e":"229f1e69","chunk-97cad276":"50c2c8fd"}[t]+".js"}function c(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var n=[],e=o[t];if(0!==e)if(e)n.push(e[2]);else{var a=new Promise((function(n,a){e=o[t]=[n,a]}));n.push(e[2]=a);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=r(t);var u=new Error;s=function(n){i.onerror=i.onload=null,clearTimeout(l);var e=o[t];if(0!==e){if(e){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,e[1](u)}o[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(n)},c.m=t,c.c=a,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)c.d(e,a,function(n){return t[n]}.bind(null,a));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="/./",c.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var d=u;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"4b58":function(t,n,e){"use strict";e("916d")},"56d7":function(t,n,e){"use strict";e.r(n);e("4de4"),e("a15b"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("1276"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),o=e("bc3a"),s=e.n(o),r=e("2106"),c=e.n(r),i=e("9062"),u=e.n(i),l=(e("e40d"),e("6f19")),d=e("60d4"),h=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},f=[],p=(e("5c0b"),e("2877")),b={},m=Object(p["a"])(b,h,f,!1,null,null,null),v=m.exports,_=e("8c4f"),g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[e("Navbar"),e("Sidecart"),e("Toast"),e("router-view"),e("div",{staticClass:"home_footer"},[e("Footer")],1)],1)},C=[],k=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"header container df jc-c ai-c fxd-c",class:{scroll:t.scroll}},[e("div",{staticClass:"logo df ai-c"},[e("div",{staticClass:"ham",class:{show:t.ham},on:{click:function(n){t.ham=!t.ham}}},[e("span"),e("span"),e("span")]),e("h1",{staticClass:"ta-c"},[e("router-link",{attrs:{to:"/"}},[t._v("J&M")])],1)]),e("nav",{staticClass:"nav df jc-fe ai-fs"},[e("ul",{staticClass:"mobile-icons df jc-sa"},[e("li",[e("button",{attrs:{type:"button"}},[e("router-link",{attrs:{to:"/account"}},[e("i",{staticClass:"far fa-user"})])],1)]),e("li",[e("button",{attrs:{type:"button"}},[e("router-link",{attrs:{to:"/wishlist"}},[e("i",{staticClass:"far fa-heart"})])],1)]),e("li",[e("button",{attrs:{type:"button"}},[e("router-link",{attrs:{to:"/orderhistory"}},[e("i",{staticClass:"fas fa-clipboard-list"})])],1)]),e("li",[e("button",{attrs:{type:"button"}},[e("router-link",{attrs:{to:"/coupons"}},[e("i",{staticClass:"fas fa-tags"})])],1)]),e("li",[e("button",{attrs:{type:"button"},on:{click:t.showCart}},[e("i",{staticClass:"fas fa-shopping-cart"}),e("span",{staticClass:"cart-amount"},[t._v(t._s(t.cartlength))])])])]),e("ul",{staticClass:"menu df ta-c",class:{show:t.ham}},[e("li",{on:{click:function(n){t.ham=!1}}},[e("router-link",{attrs:{to:"/about"}},[e("span",[t._v("About J&M")]),e("span",[t._v("品牌故事")])])],1),e("li",{on:{click:function(n){t.getProducts(),t.ham=!1}}},[e("router-link",{attrs:{to:"/products/all"}},[e("span",[t._v("All Items")]),e("span",[t._v("全部商品")])])],1),e("li",[e("router-link",{attrs:{to:""}},[e("span",[t._v("Category")]),e("span",[t._v("分類商品")])]),e("ul",[e("li",{on:{click:function(n){t.getProducts(),t.ham=!1}}},[e("router-link",{attrs:{to:"/products/candle"}},[e("span",[t._v("Scented candle")]),e("span",[t._v("香氛蠟燭")])])],1),e("li",{on:{click:function(n){t.getProducts(),t.ham=!1}}},[e("router-link",{attrs:{to:"/products/jar"}},[e("span",[t._v("Fragrance cream")]),e("span",[t._v("居家香氛膏")])])],1),e("li",{on:{click:function(n){t.getProducts(),t.ham=!1}}},[e("router-link",{attrs:{to:"/products/sprayer"}},[e("span",[t._v("Aroma spray")]),e("span",[t._v("芳香噴霧")])])],1),e("li",{on:{click:function(n){t.getProducts(),t.ham=!1}}},[e("router-link",{attrs:{to:"/products/oil"}},[e("span",[t._v("Essential oil")]),e("span",[t._v("天然精油")])])],1)])],1),e("li",{on:{click:function(n){t.ham=!1}}},[e("router-link",{attrs:{to:"/reserve"}},[e("span",[t._v("reservation")]),e("span",[t._v("預約手作")])])],1)]),e("ul",{staticClass:"icons df"},[t._m(0),e("li",[e("button",{attrs:{type:"button"}},[e("router-link",{attrs:{to:"/account"}},[e("i",{staticClass:"far fa-user"})])],1),e("ul",[e("li",[e("router-link",{attrs:{to:"/wishlist"}},[e("i",{staticClass:"far fa-heart"}),e("div",{staticClass:"df fxd-c ta-c"},[e("span",[t._v("Wish list")]),e("span",[t._v("願望清單")])])])],1),e("li",[e("router-link",{attrs:{to:"/orderhistory"}},[e("i",{staticClass:"fas fa-clipboard-list"}),e("div",{staticClass:"df fxd-c ta-c"},[e("span",[t._v("My orders")]),e("span",[t._v("訂單查詢")])])])],1),e("li",[e("router-link",{attrs:{to:"/coupons"}},[e("i",{staticClass:"fas fa-tags"}),e("div",{staticClass:"df fxd-c ta-c"},[e("span",[t._v("My coupons")]),e("span",[t._v("優惠券")])])])],1)])]),e("li",[e("button",{attrs:{type:"button"},on:{click:t.showCart}},[e("i",{staticClass:"fas fa-shopping-cart"}),e("span",{staticClass:"cart-amount"},[t._v(t._s(t.cartlength))])])])])]),e("div",{staticClass:"mask",class:{showCart:t.showcart,showMenu:t.ham},on:{click:function(n){t.closeCart(),t.ham=!1}}})])},y=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",[e("input",{attrs:{type:"search",placeholder:"Search..."}}),e("button",{attrs:{type:"button"}},[e("i",{staticClass:"fa fa-search"})])])}],w={data:function(){return{scroll:!1,showcart:!1,ham:!1,cartlength:0}},methods:{getPos:function(){var t=window.pageYOffset;t>165?this.scroll=!0:t<10&&(this.scroll=!1)},getProducts:function(){this.$bus.$emit("getproducts")},showCart:function(){this.showcart=!0,this.$bus.$emit("showcart")},closeCart:function(){this.showcart=!1,this.$bus.$emit("closecart")}},mounted:function(){window.addEventListener("scroll",this.getPos,!0)},created:function(){var t=this;this.$bus.$on("cartlength",(function(n){t.cartlength=n})),this.$bus.$on("mobileclose",(function(){t.showcart=!1})),this.$bus.$on("showcart",(function(){t.showcart=!0})),this.$bus.$on("closecart",(function(){t.showcart=!1}))},beforeDestroy:function(){this.$bus.$off("cartlength"),this.$bus.$off("mobileclose"),this.$bus.$off("showcart"),this.$bus.$off("closecart")}},$=w,j=Object(p["a"])($,k,y,!1,null,null,null),x=j.exports,L=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("footer",{staticClass:"footer ta-c"},[e("h3",[t._v("Hey,let's keep in touch!")]),e("div",{staticClass:"subscribe"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(n){var a=n.invalid;return[e("form",[e("ValidationProvider",{attrs:{rules:"email|required_if"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"電子信箱",placeholder:"your email address"},domProps:{value:t.email},on:{input:function(n){n.target.composing||(t.email=n.target.value)}}}),e("input",{staticClass:"submit",attrs:{type:"submit",disabled:a,value:"Subscribe"}}),e("span",{staticClass:"errmsg"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]}}])})],1),t._m(0),t._m(1)])},O=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"info ta-l"},[e("li",[e("h4",[t._v("實體店面| "),e("span",[t._v("地址：桃園市中壢區環中東路1巷1號")])])]),e("li",[e("h4",[t._v("客服專線| "),e("a",{attrs:{href:"tel:+03-1234-4321"}},[t._v("03-1234-4321")])])]),e("li",[e("h4",[t._v("客服信箱| "),e("a",{attrs:{href:"mailto:jm@service.com.tw"}},[t._v("jm@service.com.tw")])])])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"copyright"},[e("p",[t._v(" © J&M 2020 All Rights Reserved.圖片為練習使用，無商業用途。 ")])])}],P={data:function(){return{email:""}}},E=P,S=Object(p["a"])(E,L,O,!1,null,null,null),T=S.exports,q=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"sidecart",class:{show:t.showCart}},[e("loading",{attrs:{loader:"dots",active:t.isLoading},on:{"update:active":function(n){t.isLoading=n}}}),e("div",{staticClass:"cart_header df jc-sb"},[e("h3",[t._v("Cart"),e("span",[t._v("("+t._s(t.cartLength)+"items)")])]),e("button",{staticClass:"closebtn",attrs:{type:"button"},on:{click:function(n){t.showCart=!1,t.mobileClose()}}},[t._v("×")])]),0===t.cartLength?e("div",{staticClass:"noproudcts ta-c"},[e("p",[t._v("購物車還沒有商品唷！")])]):t._e(),e("div",{staticClass:"cart_body"},t._l(t.carts,(function(n){return e("div",{key:n.id,staticClass:"items"},[e("div",{staticClass:"content df jc-sb"},[e("div",{staticClass:"img df jc-c ai-c",on:{click:function(n){t.showCart=!1,t.mobileClose()}}},[e("router-link",{attrs:{to:"/product/"+n.product.id}},[e("img",{attrs:{src:""+n.product.imageUrl[0],alt:""}})])],1),e("div",{staticClass:"detail df fxd-c ai-c",on:{click:function(n){t.showCart=!1,t.mobileClose()}}},[e("router-link",{attrs:{to:"/product/"+n.product.id}},[e("h4",[t._v(t._s(n.product.title))]),e("p",[t._v(t._s(n.product.title))]),e("p",{staticClass:"price"},[t._v(t._s(n.product.price))])])],1)]),e("div",{staticClass:"update df"},[e("div",{staticClass:"cart_quantity"},[e("button",{attrs:{type:"button",disabled:1===n.quantity},on:{click:function(e){return t.updateCart(n.product.id,n.quantity-1)}}},[t._v("-")]),e("input",{staticClass:"ta-c",attrs:{type:"number"},domProps:{value:n.quantity}}),e("button",{attrs:{type:"button"},on:{click:function(e){return t.updateCart(n.product.id,n.quantity+1)}}},[t._v("+")])]),e("div",{staticClass:"remove df jc-c"},[e("button",{staticClass:"ta-c",attrs:{type:"button"},on:{click:function(e){return t.removeItem(n.product.id)}}},[t._v("Remove")])])])])})),0),e("div",{staticClass:"cart_footer"},[e("div",{staticClass:"total df jc-sb"},[e("label",[t._v("SUBTOTAL")]),e("span",[t._v("NT. "+t._s(t._f("money")(t.subtotal)))])]),e("div",{staticClass:"checkout df jc-c"},[e("router-link",{attrs:{to:"/checkout"}},[e("button",{attrs:{type:"button",disabled:0===t.cartLength},on:{click:function(n){t.showCart=!1,t.mobileClose()}}},[t._v("Secure Checkout")])])],1)])],1)},M=[],A=(e("99af"),e("4160"),e("45fc"),e("159b"),{data:function(){return{isLoading:!1,showCart:!1,cartLength:0,carts:[],subtotal:0,err_data:""}},methods:{getCart:function(){var t=this;this.isLoading=!0;var n="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping");this.axios.get(n).then((function(n){t.cartLength=n.data.data.length,t.$bus.$emit("cartlength",t.cartLength),t.carts=n.data.data,t.subtotal=0,t.carts.forEach((function(n){t.subtotal+=n.product.price*n.quantity})),t.isLoading=!1})).catch((function(n){t.err_data=n.response.data.message,t.$bus.$emit("error",t.err_data),t.isLoading=!1}))},addToCart:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping"),o=this.carts.some((function(e){return e.product.id===t&&(n.updateCart(t,e.quantity+1),!0)}));if(!o){var s={product:t,quantity:e};this.axios.post(a,s).then((function(){n.isLoading=!1,n.getCart(),n.showCart=!0,n.$bus.$emit("showcart"),setTimeout((function(){n.showCart=!1,n.$bus.$emit("closecart")}),1500)})).catch((function(t){n.err_data=t.response.data.message,n.$bus.$emit("error",n.err_data),n.isLoading=!1}))}},updateCart:function(t,n){var e=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping"),o={product:t,quantity:n};this.axios.patch(a,o).then((function(){e.getCart(),e.showCart=!0,e.$bus.$emit("showcart"),setTimeout((function(){e.showCart=!1,e.$bus.$emit("closecart")}),1500),e.isLoading=!1})).catch((function(t){e.err_data=t.response.data.message,e.$bus.$emit("error",e.err_data),e.isLoading=!1}))},removeItem:function(t){var n=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping/").concat(t);this.axios.delete(e).then((function(){n.getCart(),n.isLoading=!1})).catch((function(t){n.err_data=t.response.data.message,n.$bus.$emit("error",n.err_data),n.isLoading=!1}))},mobileClose:function(){this.$bus.$emit("mobileclose")}},created:function(){var t=this;this.getCart(),this.$bus.$on("showcart",(function(){t.showCart=!0})),this.$bus.$on("closecart",(function(){t.showCart=!1})),this.$bus.$on("addtocart",(function(n,e){t.addToCart(n,e)}))},beforeDestroy:function(){this.$bus.$off("showcart"),this.$bus.$off("closecart")}}),I=A,J=Object(p["a"])(I,q,M,!1,null,null,null),D=J.exports,F=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"toast df jc-sb",class:{show:t.show,close:t.close}},[e("h4",[t._v(t._s(t.err))]),e("button",{attrs:{type:"button"},on:{click:function(n){t.close=!0,t.show=!1}}},[t._v("×")])])},N=[],R={data:function(){return{err:"",show:!1,close:!1}},created:function(){var t=this;this.$bus.$on("error",(function(n){t.show=!0,setTimeout((function(){t.show=!1}),1500),t.close=!1,t.err=n}))},beforeDestroy:function(){this.$bus.$off("error")}},V=R,B=Object(p["a"])(V,F,N,!1,null,null,null),H=B.exports,W={components:{Navbar:x,Footer:T,Sidecart:D,Toast:H}},U=W,z=(e("4b58"),Object(p["a"])(U,g,C,!1,null,null,null)),Y=z.exports;a["a"].use(_["a"]);var G=[{path:"/",name:"Home",component:Y,children:[{path:"",name:"Index",component:function(){return e.e("chunk-8493c7c6").then(e.bind(null,"d464"))}},{path:"about",name:"About",component:function(){return e.e("chunk-1d5ce292").then(e.bind(null,"8165"))}},{path:"products/:category",name:"Products",component:function(){return e.e("chunk-539a5999").then(e.bind(null,"ead5"))}},{path:"product/:id",name:"Product",component:function(){return e.e("chunk-05826efa").then(e.bind(null,"a7c1"))}},{path:"reserve",name:"Reserve",component:function(){return e.e("chunk-2d0e28e7").then(e.bind(null,"7ecf"))}},{path:"account",name:"Account",component:function(){return e.e("chunk-2d0b6e7c").then(e.bind(null,"1ec5"))}},{path:"login",name:"Login",component:function(){return e.e("chunk-2d0dde2e").then(e.bind(null,"82fd"))}},{path:"wishlist",name:"Wishlist",component:function(){return e.e("chunk-87dc1838").then(e.bind(null,"fe9c"))}},{path:"orderhistory",name:"OrderHistory",component:function(){return e.e("chunk-880b1d6e").then(e.bind(null,"400b"))}},{path:"coupons",name:"Coupons",component:function(){return e.e("chunk-8806e99e").then(e.bind(null,"7b9d"))}},{path:"checkout",name:"Checkout",component:function(){return e.e("chunk-548eccb9").then(e.bind(null,"b019"))}},{path:"orderinfo",name:"OrderInfo",component:function(){return e.e("chunk-97cad276").then(e.bind(null,"8262"))}},{path:"orderfound/:orderId",name:"OrderFound",component:function(){return e.e("chunk-547b5422").then(e.bind(null,"7567"))}}]},{path:"/admin",name:"Dashboard",component:function(){return e.e("chunk-2d225006").then(e.bind(null,"e313"))},children:[{path:"products",name:"Products",component:function(){return Promise.all([e.e("chunk-1f434fbf"),e.e("chunk-2d0cf132")]).then(e.bind(null,"61bc"))}},{path:"coupons",name:"Coupons",component:function(){return Promise.all([e.e("chunk-1f434fbf"),e.e("chunk-1fabd593")]).then(e.bind(null,"8c58"))}},{path:"orders",name:"Orders",component:function(){return e.e("chunk-7f75ae24").then(e.bind(null,"efd9"))}},{path:"storage",name:"Storage",component:function(){return e.e("chunk-4466b927").then(e.bind(null,"7749"))}}]},{path:"*",redirect:"/"}],K=new _["a"]({linkExactActiveClass:"active",scrollBehavior:function(){return{x:0,y:0}},routes:G}),Q=K;a["a"].config.productionTip=!1,a["a"].prototype.$bus=new a["a"],Object(l["c"])("zh_TW",d),a["a"].use(c.a,s.a),a["a"].component("Loading",u.a),a["a"].component("ValidationProvider",l["b"]),a["a"].component("ValidationObserver",l["a"]),a["a"].filter("money",(function(t){var n=t.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")})),new a["a"]({router:Q,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";e("9c0c")},"916d":function(t,n,e){},"9c0c":function(t,n,e){}});
//# sourceMappingURL=app.6bbb06e8.js.map