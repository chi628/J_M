{"version":3,"sources":["webpack:///./src/components/fronted/Order_step.vue?feb8","webpack:///src/components/fronted/Order_step.vue","webpack:///./src/components/fronted/Order_step.vue?4d22","webpack:///./src/components/fronted/Order_step.vue","webpack:///./src/views/fronted/layout/Checkout.vue?4248","webpack:///src/views/fronted/layout/Checkout.vue","webpack:///./src/views/fronted/layout/Checkout.vue?536c","webpack:///./src/views/fronted/layout/Checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","tag","one","attrs","_v","two","three","staticRenderFns","props","data","created","step","component","isLoading","on","$event","_m","_l","item","key","id","product","imageUrl","_s","title","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","updateCart","quantity","_f","price","removeCartItem","domProps","composing","coupon_code","addCoupon","subtotal","shipping","discount","components","OrderStep","cart","coupon","methods","getCart","axios","num","code","post","url","couponChecked"],"mappings":"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","file":"js/chunk-548eccb9.5c3c93a3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('ul',{staticClass:\"df jc-sa\"},[_c('li',{staticClass:\"steps df fxd-c jc-c ai-c\",class:{tag:_vm.one}},[_c('div',{staticClass:\"step df jc-c ai-c\"},[_c('svg',{attrs:{\"height\":\"42\",\"width\":\"42\"}},[_c('circle',{attrs:{\"cx\":\"21\",\"cy\":\"21\",\"r\":\"20\"}})]),_c('span',[_vm._v(\"1\")])]),_c('p',[_vm._v(\"訂單確認\")])]),_c('li',{staticClass:\"steps df fxd-c jc-c ai-c\",class:{tag:_vm.two}},[_c('div',{staticClass:\"step df jc-c ai-c\"},[_c('svg',{attrs:{\"height\":\"42\",\"width\":\"42\"}},[_c('circle',{attrs:{\"cx\":\"21\",\"cy\":\"21\",\"r\":\"20\"}})]),_c('span',[_vm._v(\"2\")])]),_c('p',[_vm._v(\"收件資訊\")])]),_c('li',{staticClass:\"steps df fxd-c jc-c ai-c\",class:{tag:_vm.three}},[_c('div',{staticClass:\"step df jc-c ai-c\"},[_c('svg',{attrs:{\"height\":\"42\",\"width\":\"42\"}},[_c('circle',{attrs:{\"cx\":\"21\",\"cy\":\"21\",\"r\":\"20\"}})]),_c('span',[_vm._v(\"3\")])]),_c('p',[_vm._v(\"訂單成立\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <ul class=\"df jc-sa\">\n      <li class=\"steps df fxd-c jc-c ai-c\" :class=\"{tag:one}\">\n        <div class=\"step df jc-c ai-c\">\n          <svg height=\"42\" width=\"42\">\n            <circle cx=\"21\" cy=\"21\" r=\"20\" />\n          </svg>\n          <span>1</span>\n        </div>\n        <p>訂單確認</p>\n      </li>\n      <li class=\"steps df fxd-c jc-c ai-c\" :class=\"{tag:two}\">\n        <div class=\"step df jc-c ai-c\">\n          <svg height=\"42\" width=\"42\">\n            <circle cx=\"21\" cy=\"21\" r=\"20\" />\n          </svg>\n          <span>2</span>\n        </div>\n        <p>收件資訊</p>\n      </li>\n      <li class=\"steps df fxd-c jc-c ai-c\" :class=\"{tag:three}\">\n        <div class=\"step df jc-c ai-c\">\n          <svg height=\"42\" width=\"42\">\n            <circle cx=\"21\" cy=\"21\" r=\"20\" />\n          </svg>\n          <span>3</span>\n        </div>\n        <p>訂單成立</p>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  props: ['step'],\n  data() {\n    return {\n      one: false,\n      two: false,\n      three: false,\n    };\n  },\n  created() {\n    if (this.step === 'one') {\n      this.one = true;\n      this.two = false;\n      this.three = false;\n    } else if (this.step === 'two') {\n      this.one = false;\n      this.two = true;\n      this.three = false;\n    } else if (this.step === 'three') {\n      this.one = false;\n      this.two = false;\n      this.three = true;\n    }\n  },\n};\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order_step.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order_step.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order_step.vue?vue&type=template&id=a21f770a&\"\nimport script from \"./Order_step.vue?vue&type=script&lang=js&\"\nexport * from \"./Order_step.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checkout container df fxd-c\"},[_c('OrderStep',{attrs:{\"step\":_vm.step}}),_c('loading',{attrs:{\"loader\":\"dots\",\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"orders\"},[_c('table',[_vm._m(0),_c('tbody',_vm._l((_vm.cart),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"checkout_item df jc-c ai-c\"},[_c('div',{staticClass:\"itemimg\"},[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.product.id))}},[_c('img',{attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})])],1),_c('p',{staticClass:\"itemtitle\"},[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.product.id))}},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")])],1)]),_c('td',[_c('span',[_vm._v(\"數量\")]),_c('div',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"quantity\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.updateCart(item.product.id,item.quantity)}]}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"1\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"2\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"3\")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"4\")]),_c('option',{attrs:{\"value\":\"5\"}},[_vm._v(\"5\")]),_c('option',{attrs:{\"value\":\"6\"}},[_vm._v(\"6\")]),_c('option',{attrs:{\"value\":\"7\"}},[_vm._v(\"7\")]),_c('option',{attrs:{\"value\":\"8\"}},[_vm._v(\"8\")]),_c('option',{attrs:{\"value\":\"9\"}},[_vm._v(\"9\")]),_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(\"10\")]),_vm._m(1,true)])])]),_c('td',[_c('span',[_vm._v(\"單價\")]),_c('p',[_vm._v(\"NT.\"+_vm._s(_vm._f(\"money\")(item.product.price)))])]),_c('td',[_c('span',[_vm._v(\"小計\")]),_c('p',[_vm._v(\"NT.\"+_vm._s(_vm._f(\"money\")(item.product.price * item.quantity)))])]),_c('td',[_c('span',[_vm._v(\"刪除\")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.product.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),0)]),_c('div',{staticClass:\"discount df jc-fe ai-c\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],attrs:{\"type\":\"text\",\"name\":\"coupon\",\"placeholder\":\"Enter discount code\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\"},on:{\"click\":_vm.addCoupon}},[_vm._v(\"Apply\")])]),_c('div',{staticClass:\"order_total df jc-fe ai-c\"},[_c('ul',[_c('li',[_c('span',[_vm._v(\"Subtotal\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"money\")(_vm.subtotal)))])]),_c('li',[_c('span',[_vm._v(\"Shipping\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"money\")(_vm.shipping)))])]),_c('li',[_c('span',[_vm._v(\"Discount\")]),(_vm.discount>0)?_c('span',[_vm._v(\"-\"+_vm._s(_vm._f(\"money\")(_vm.discount)))]):_c('span',[_vm._v(_vm._s(_vm._f(\"money\")(_vm.discount)))])]),_c('li',[_c('span',[_vm._v(\"Total\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"money\")(_vm.subtotal+_vm.shipping-_vm.discount)))])])])]),_c('div',{staticClass:\"checkout_btns df jc-sb ai-c\"},[_c('button',{staticClass:\"back_btn\",attrs:{\"type\":\"button\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"« Back to Shopping\")])],1),_c('button',{staticClass:\"info_btn\",attrs:{\"type\":\"button\"}},[_c('router-link',{attrs:{\"to\":\"/orderinfo\"}},[_vm._v(\"Order »\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"商品資訊\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")]),_c('th',[_vm._v(\"小計\")]),_c('th',[_vm._v(\"刪除\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('option',{attrs:{\"value\":\"\"}},[_c('input',{attrs:{\"type\":\"number\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"checkout container df fxd-c\">\n    <OrderStep :step=\"step\"/>\n    <!-- <h4>Shopping Cart</h4> -->\n    <loading loader=\"dots\" :active.sync=\"isLoading\"></loading>\n    <div class=\"orders\">\n      <table>\n        <thead>\n          <tr>\n            <th>商品資訊</th>\n            <th>數量</th>\n            <th>單價</th>\n            <th>小計</th>\n            <th>刪除</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in cart\" :key=\"item.id\">\n            <td class=\"checkout_item df jc-c ai-c\">\n              <div class=\"itemimg\">\n                <router-link :to=\"`/product/${item.product.id}`\">\n                <img :src=\"item.product.imageUrl[0]\" alt />\n                </router-link>\n              </div>\n              <p class=\"itemtitle\">\n                <router-link :to=\"`/product/${item.product.id}`\">\n                  {{item.product.title}}\n                </router-link>\n              </p>\n            </td>\n            <td>\n              <span>數量</span>\n              <div>\n                <select v-model=\"item.quantity\" @change=\"updateCart(item.product.id,item.quantity)\">\n                  <option value=\"1\">1</option>\n                  <option value=\"2\">2</option>\n                  <option value=\"3\">3</option>\n                  <option value=\"4\">4</option>\n                  <option value=\"5\">5</option>\n                  <option value=\"6\">6</option>\n                  <option value=\"7\">7</option>\n                  <option value=\"8\">8</option>\n                  <option value=\"9\">9</option>\n                  <option value=\"10\">10</option>\n                  <option value=\"\"><input type=\"number\"></option>\n                </select>\n              </div>\n            </td>\n            <td>\n              <span>單價</span>\n              <p>NT.{{item.product.price | money}}</p>\n            </td>\n            <td>\n              <span>小計</span>\n              <p>NT.{{item.product.price * item.quantity | money}}</p>\n            </td>\n            <td>\n              <span>刪除</span>\n              <button type=\"button\"\n                @click=\"removeCartItem(item.product.id)\">\n                <i class=\"far fa-trash-alt\"></i>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"discount df jc-fe ai-c\">\n        <input type=\"text\" name=\"coupon\" v-model=\"coupon_code\" placeholder=\"Enter discount code\" />\n        <button type=\"submit\" @click=\"addCoupon\">Apply</button>\n      </div>\n\n      <div class=\"order_total df jc-fe ai-c\">\n        <ul>\n          <li>\n            <span>Subtotal</span>\n            <span>{{subtotal | money}}</span>\n          </li>\n          <li>\n            <span>Shipping</span>\n            <span>{{shipping | money}}</span>\n          </li>\n          <li>\n            <span>Discount</span>\n            <span v-if=\"discount>0\">-{{discount | money}}</span>\n            <span v-else>{{discount | money}}</span>\n          </li>\n          <li>\n            <span>Total</span>\n            <span>{{subtotal+shipping-discount | money}}</span>\n          </li>\n        </ul>\n      </div>\n      <div class=\"checkout_btns df jc-sb ai-c\">\n        <button type=\"button\" class=\"back_btn\">\n            <router-link to=\"/\">&laquo; Back to Shopping</router-link>\n        </button>\n        <button type=\"button\" class=\"info_btn\">\n            <router-link to=\"/orderinfo\">Order &raquo;</router-link>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport OrderStep from '@/components/fronted/Order_step.vue';\n\nexport default {\n  components: {\n    OrderStep,\n  },\n  data() {\n    return {\n      isLoading: false,\n      cart: [],\n      subtotal: 0,\n      shipping: 60,\n      discount: 0,\n      coupon: {},\n      coupon_code: '',\n      step: 'one',\n    };\n  },\n  methods: {\n    getCart() {\n      this.isLoading = true;\n      this.axios\n        .get(\n          `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`,\n        )\n        .then((res) => {\n          this.isLoading = false;\n          this.cart = res.data.data;\n          this.subtotal = 0;\n          this.cart.forEach((item) => {\n            this.subtotal += item.product.price * item.quantity;\n          });\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n\n    updateCart(id, num) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\n      const data = {\n        product: id,\n        quantity: num,\n      };\n      this.axios\n        .patch(url, data)\n        .then(() => {\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    removeCartItem(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n      this.axios\n        .delete(url)\n        .then(() => {\n          this.isLoading = false;\n          this.getCart();\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    addCoupon() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/coupon/search`;\n      const couponChecked = {\n        code: this.coupon_code,\n      };\n      this.axios.post(url, couponChecked)\n        .then((res) => {\n          this.coupon = res.data.data;\n          this.discount = Math.floor((this.subtotal * this.coupon.percent) / 100);\n          this.$bus.$emit('checkcoupon', this.coupon);\n          this.isLoading = false;\n        }).catch(() => {\n          this.isLoading = false;\n        });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=4b3c8fc1&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}